{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _jsxFileName = \"/Users/ntommy/Projects/wisesaying/screens/Search.js\";\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScreenLayout from \"../components/ScreenLayout\";\nimport styled from \"styled-components/native\";\nimport DismissKeyboard from \"../components/DismissKeyboard\";\nimport { useColorScheme } from 'react-native-appearance';\nimport { useForm } from 'react-hook-form';\nimport SwitchSelector from \"react-native-switch-selector\";\nimport { Ionicons } from '@expo/vector-icons';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { useNavigation } from '@react-navigation/core';\nimport SayingSmall from \"../components/SayingSmall\";\nimport Saying from \"../components/Saying\";\nimport { colors } from \"../colors\";\nvar TAKE = 40;\nvar TAG_COLOR = \"#91F8D0\";\nvar TAG_COLOR_DARK = \"2E8B57\";\nvar SEARCH_TAG = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  query searchTag($keyword: String!, $take: Int!, $lastId:Int){\\n    searchTag(keword: $keyword, take: $take, lastId:$lastId){\\n      id\\n      name\\n      totalSayings\\n    }\\n  }\\n\"])));\nvar SEARCH_AUTHOR = gql(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  query searchAuthor($keyword: String!, $take: Int!, $lastId: Int){\\n    searchAuthor(keyword: $keyword, take:$take, lastId:$lastId){\\n      id\\n      name\\n      totalSayings\\n    }\\n  }\\n\"])));\nvar SEARCH_CONTENT = gql(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  query searchSaying($keyword: String!, $take: Int!, $lastId: Int){\\n    searchSaying(keyword: $keyword, take:$take, lastId:$lastId){\\n      id\\n      user{\\n        id\\n        name\\n        email\\n      }\\n      author{\\n        id\\n        name\\n      }\\n      text \\n      tags{\\n        id\\n        name \\n      }\\n      totalLikes\\n      totalComments\\n      isMine\\n      isLike\\n    }\\n  }\\n\"])));\n\nfunction SearchTagResult(_ref) {\n  var _this = this;\n\n  var keyword = _ref.keyword;\n  console.log(\"SearchTagResult::keyword=\", keyword);\n  var darkmode = useColorScheme() === \"dark\";\n  var navigation = useNavigation();\n\n  var renderTag = function renderTag(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(\"SayingList\", {\n          id: item.id,\n          keyword: item.name,\n          type: \"tag\"\n        });\n      },\n      style: CSS.tagContainer(darkmode),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        flex: 1,\n        justifyContent: \"space-between\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: CSS.tagLeft,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: CSS.tagText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, item.name), React.createElement(Text, {\n      style: {\n        color: \"#dddddd\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \" (\", item.totalSayings, \")\")), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, React.createElement(Ionicons, {\n      name: \"arrow-forward-circle\",\n      size: 28,\n      color: \"white\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }))));\n  };\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      offset = _useState2[0],\n      setOffset = _useState2[1];\n\n  var _useQuery = useQuery(SEARCH_TAG, {\n    variables: {\n      keyword: keyword,\n      take: TAKE\n    },\n    errorPolicy: \"all\"\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      fetchMore = _useQuery.fetchMore;\n\n  if (error) {\n    console.log(error);\n  }\n\n  if (loading) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (data) {\n    console.log(\"SearchTagResult::data=\", data);\n    var len = data.searchTag.length;\n\n    if (len) {\n      var lastId = data.searchTag[len - 1].id;\n      console.log(\"lastId:\", lastId);\n      return React.createElement(SafeAreaView, {\n        style: {\n          width: \"100%\",\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }, React.createElement(FlatList, {\n        keyboardShouldPersistTaps: \"handled\",\n        onEndReachedThreshold: 0,\n        onEndReached: function onEndReached() {\n          return fetchMore({\n            variables: {\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n          });\n        },\n        style: {\n          paddingTop: 30\n        },\n        data: data.searchTag,\n        renderItem: renderTag,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 10\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 16\n    }\n  }, \"default\"));\n}\n\nfunction SearchAuthorResult(_ref3) {\n  var _this2 = this;\n\n  var keyword = _ref3.keyword;\n  var navigation = useNavigation();\n  var darkmode = useColorScheme() === \"dark\";\n\n  var renderAuthor = function renderAuthor(_ref4) {\n    var item = _ref4.item;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(\"SayingList\", {\n          id: item.id,\n          keyword: item.name,\n          type: \"author\"\n        });\n      },\n      style: CSS.tagContainer(darkmode),\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        flex: 1,\n        justifyContent: \"space-between\"\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: CSS.tagLeft,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: CSS.tagText,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, item.name), React.createElement(Text, {\n      style: {\n        color: \"#878787\"\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, \" (\", item.totalSayings, \")\")), React.createElement(View, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, React.createElement(Ionicons, {\n      name: \"arrow-forward-circle\",\n      size: 28,\n      color: \"white\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }))));\n  };\n\n  var _useQuery2 = useQuery(SEARCH_AUTHOR, {\n    variables: {\n      keyword: keyword,\n      take: TAKE\n    },\n    errorPolicy: \"all\"\n  }),\n      data = _useQuery2.data,\n      loading = _useQuery2.loading,\n      error = _useQuery2.error,\n      fetchMore = _useQuery2.fetchMore;\n\n  if (error) {\n    console.log(error);\n  }\n\n  if (loading) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (data) {\n    console.log(\"SearchAuthorResult::data=\", data);\n    var len = data.searchAuthor.length;\n\n    if (len) {\n      var lastId = data.searchAuthor[len - 1].id;\n      return React.createElement(SafeAreaView, {\n        style: {\n          width: \"100%\",\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }, React.createElement(FlatList, {\n        keyboardShouldPersistTaps: \"handled\",\n        onEndReachedThreshold: 0,\n        onEndReached: function onEndReached() {\n          return fetchMore({\n            variables: {\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n          });\n        },\n        style: {\n          paddingTop: 30\n        },\n        data: data.searchAuthor,\n        renderItem: renderAuthor,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 10\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 16\n    }\n  }, \"default\"));\n}\n\nfunction SearchContentResult(_ref5) {\n  var _this3 = this;\n\n  var keyword = _ref5.keyword;\n  var darkmode = useColorScheme() === \"dark\";\n  var navigation = useNavigation();\n\n  var renderItem = function renderItem(_ref6) {\n    var item = _ref6.item;\n    return React.createElement(ScreenLayout, {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }\n    }, React.createElement(Saying, _extends({}, item, {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  var _useQuery3 = useQuery(SEARCH_CONTENT, {\n    variables: {\n      keyword: keyword,\n      take: TAKE\n    },\n    errorPolicy: \"all\"\n  }),\n      data = _useQuery3.data,\n      loading = _useQuery3.loading,\n      error = _useQuery3.error,\n      fetchMore = _useQuery3.fetchMore;\n\n  if (error) {\n    console.log(error);\n  }\n\n  if (loading) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (data) {\n    console.log(\"SearchTagResult::data=\", data);\n    var len = data.searchSaying.length;\n\n    if (len) {\n      var lastId = data.searchSaying[len - 1].id;\n      console.log(\"lastId:\", lastId);\n      return React.createElement(SafeAreaView, {\n        style: {\n          width: \"100%\",\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 9\n        }\n      }, React.createElement(FlatList, {\n        keyboardShouldPersistTaps: \"handled\",\n        onEndReachedThreshold: 0,\n        onEndReached: function onEndReached() {\n          return fetchMore({\n            variables: {\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n          });\n        },\n        data: data.searchSaying,\n        renderItem: renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 10\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 16\n    }\n  }, \"default\"));\n}\n\nfunction Result(_ref7) {\n  var selection = _ref7.selection,\n      keyword = _ref7.keyword,\n      darkmode = _ref7.darkmode;\n  if (selection == \"tag\") return React.createElement(ScreenLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 31\n    }\n  }, React.createElement(SearchTagResult, {\n    keyword: keyword,\n    darkmode: darkmode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 45\n    }\n  }));else if (selection == \"author\") return React.createElement(ScreenLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 39\n    }\n  }, React.createElement(SearchAuthorResult, {\n    keyword: keyword,\n    darkmode: darkmode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 53\n    }\n  }));else if (selection == \"content\") return React.createElement(SearchContentResult, {\n    keyword: keyword,\n    darkmode: darkmode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 40\n    }\n  });\n  return React.createElement(ActivityIndicator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 10\n    }\n  });\n}\n\nexport default function Search(_ref8) {\n  var _this4 = this;\n\n  var navigation = _ref8.navigation;\n\n  var _useWindowDimensions = useWindowDimensions(),\n      width = _useWindowDimensions.width,\n      height = _useWindowDimensions.height;\n\n  var _useForm = useForm(),\n      setValue = _useForm.setValue,\n      register = _useForm.register,\n      watch = _useForm.watch;\n\n  var _useState3 = useState(\"tag\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selection = _useState4[0],\n      setSelection = _useState4[1];\n\n  var colorScheme = useColorScheme();\n  var darkmode = colorScheme === \"dark\";\n  var options = [{\n    label: \"태그\",\n    value: \"tag\"\n  }, {\n    label: \"작자\",\n    value: \"author\"\n  }, {\n    label: \"내용\",\n    value: \"content\"\n  }];\n  console.log(\"selection:\", selection);\n\n  var SearchBox = function SearchBox() {\n    return React.createElement(View, {\n      style: CSS.searchBoxContainer,\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 5\n      }\n    }, React.createElement(SwitchSelector, {\n      options: options,\n      initial: 0,\n      onPress: function onPress(value) {\n        return setSelection(value);\n      },\n      style: {\n        width: width / 2\n      },\n      hasPadding: true,\n      height: 30,\n      borderColor: colors.blue,\n      borderWidth: 1,\n      backgroundColor: darkmode ? \"transparent\" : \"white\",\n      selectedColor: \"#fefefe\",\n      textColor: darkmode ? \"#ababab\" : \"#bdbdbd\",\n      buttonColor: colors.blue,\n      bold: true,\n      borderRadius: 30,\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 7\n      }\n    }), React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: 10,\n        paddingHorizontal: 3,\n        paddingVertical: 5,\n        width: width * 0.8,\n        borderRadius: 10,\n        backgroundColor: darkmode ? \"rgba(255,255,255,0.1)\" : colors.skin\n      },\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 7\n      }\n    }, React.createElement(Ionicons, {\n      name: \"search\",\n      size: 28,\n      color: \"#ababab\",\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }\n    }), React.createElement(TextInput, {\n      style: {\n        borderWidth: 0,\n        fontSize: 18,\n        paddingHorizontal: 5,\n        paddingVertical: 7,\n        borderRadius: 9,\n        width: \"90%\",\n        color: darkmode ? \"white\" : \"black\"\n      },\n      placeholderTextColor: darkmode ? \"rgba(255,255,255,0.5)\" : \"#ababab\",\n      placeholder: \"Search\",\n      autoCaptialize: \"none\",\n      returnKeyType: \"search\",\n      autoCorrect: false,\n      onChangeText: function onChangeText(text) {\n        return setValue(\"keyword\", text);\n      },\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  useEffect(function () {\n    navigation.setOptions({\n      headerTitle: SearchBox\n    });\n    register(\"keyword\");\n  }, []);\n  console.log(watch());\n  return React.createElement(DismissKeyboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      backgroundColor: colorScheme === \"dark\" ? \"black\" : \"white\",\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }\n  }, React.createElement(Result, {\n    keyword: watch(\"keyword\") ? watch(\"keyword\") : \"\",\n    selection: selection,\n    darkmode: darkmode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }\n  })));\n}\nvar CSS = StyleSheet.create({\n  tagContainer: function tagContainer(darkmode) {\n    return {\n      borderRadius: 25,\n      paddingHorizontal: 2,\n      paddingVertical: 2,\n      marginHorizontal: 50,\n      marginTop: 5,\n      flex: 1,\n      justifyContent: \"center\",\n      backgroundColor: darkmode ? \"rgba(255,255,255,0.1)\" : \"#74D19D\"\n    };\n  },\n  tagLeft: {\n    flexDirection: \"row\",\n    paddingLeft: 10,\n    paddingVertical: 5,\n    alignItems: \"center\"\n  },\n  tagText: {\n    color: \"white\",\n    fontSize: 18,\n    fontWeight: \"bold\"\n  },\n  searchBoxContainer: {\n    flex: 1,\n    width: \"100%\",\n    borderColor: \"black\",\n    borderWidth: 0,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/ntommy/Projects/wisesaying/screens/Search.js"],"names":["React","useEffect","useState","ScreenLayout","styled","DismissKeyboard","useColorScheme","useForm","SwitchSelector","Ionicons","gql","useQuery","useNavigation","SayingSmall","Saying","colors","TAKE","TAG_COLOR","TAG_COLOR_DARK","SEARCH_TAG","SEARCH_AUTHOR","SEARCH_CONTENT","SearchTagResult","keyword","console","log","darkmode","navigation","renderTag","item","navigate","id","name","type","CSS","tagContainer","flexDirection","flex","justifyContent","tagLeft","tagText","color","totalSayings","offset","setOffset","variables","take","errorPolicy","data","loading","error","fetchMore","alignItems","len","searchTag","length","lastId","width","paddingTop","toString","SearchAuthorResult","renderAuthor","searchAuthor","SearchContentResult","renderItem","searchSaying","Result","selection","Search","useWindowDimensions","height","setValue","register","watch","setSelection","colorScheme","options","label","value","SearchBox","searchBoxContainer","blue","marginTop","paddingHorizontal","paddingVertical","borderRadius","backgroundColor","skin","borderWidth","fontSize","text","setOptions","headerTitle","StyleSheet","create","marginHorizontal","paddingLeft","fontWeight","borderColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect,useState } from 'react';\nimport { StyleSheet, Text, View ,TouchableOpacity, TextInput, useWindowDimensions, ActivityIndicator, SafeAreaView,FlatList} from \"react-native\"\nimport ScreenLayout from '../components/ScreenLayout';\nimport styled from \"styled-components/native\";\nimport DismissKeyboard from '../components/DismissKeyboard';\nimport { useColorScheme } from 'react-native-appearance';\nimport { useForm } from 'react-hook-form';\nimport SwitchSelector from \"react-native-switch-selector\";\nimport { Ionicons } from '@expo/vector-icons';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { useNavigation } from '@react-navigation/core';\nimport SayingSmall from '../components/SayingSmall';\nimport Saying from '../components/Saying';\nimport {colors} from '../colors'\n\n// 무한 스크롤 fetch 데이터레코드 수 \nconst TAKE = 40;\nconst TAG_COLOR = \"#91F8D0\";\nconst TAG_COLOR_DARK = \"2E8B57\"\n\n\n//argument가 백엔드에서 오타남!! keword\nconst SEARCH_TAG = gql`\n  query searchTag($keyword: String!, $take: Int!, $lastId:Int){\n    searchTag(keword: $keyword, take: $take, lastId:$lastId){\n      id\n      name\n      totalSayings\n    }\n  }\n`\nconst SEARCH_AUTHOR = gql`\n  query searchAuthor($keyword: String!, $take: Int!, $lastId: Int){\n    searchAuthor(keyword: $keyword, take:$take, lastId:$lastId){\n      id\n      name\n      totalSayings\n    }\n  }\n`\nconst SEARCH_CONTENT = gql`\n  query searchSaying($keyword: String!, $take: Int!, $lastId: Int){\n    searchSaying(keyword: $keyword, take:$take, lastId:$lastId){\n      id\n      user{\n        id\n        name\n        email\n      }\n      author{\n        id\n        name\n      }\n      text \n      tags{\n        id\n        name \n      }\n      totalLikes\n      totalComments\n      isMine\n      isLike\n    }\n  }\n`\nfunction SearchTagResult({keyword}){\n  console.log(\"SearchTagResult::keyword=\",keyword);\n  const darkmode = useColorScheme()===\"dark\";\n  const navigation = useNavigation();\n  const renderTag = ({item})=>{\n    //console.log(\"renderTag::item=\",item);\n    return (\n      <TouchableOpacity\n        onPress={()=>navigation.navigate(\"SayingList\",{\n          id: item.id,\n          keyword: item.name,\n          type: \"tag\",\n        })} \n        style={CSS.tagContainer(darkmode)}\n      >\n        <View style={{\n          flexDirection:\"row\",\n          flex:1, \n          justifyContent:\"space-between\"\n        }}>\n          <View style={CSS.tagLeft}> \n            <Text style={CSS.tagText}>{item.name}</Text>\n            <Text style={{\n              color: \"#dddddd\"\n            }}> ({item.totalSayings})</Text>\n          </View>\n          <View>\n            <Ionicons \n              name=\"arrow-forward-circle\" \n              size={28} \n              color=\"white\"\n            />\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n  const [offset, setOffset] = useState(0);\n  const {data, loading, error, fetchMore} = useQuery(SEARCH_TAG,{\n    variables:{\n      keyword: keyword,\n      take: TAKE,\n    },\n    errorPolicy:\"all\"\n  });\n  if(error){\n    console.log(error);\n  }\n  if(loading){\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    )     \n  }\n  if(data){\n    console.log(\"SearchTagResult::data=\",data);\n    let len = data.searchTag.length;\n    if(len){\n      let lastId = data.searchTag[len-1].id;\n      console.log(\"lastId:\",lastId);\n      return(\n        <SafeAreaView style={{width:\"100%\", flex:1}}>\n          <FlatList\n            keyboardShouldPersistTaps=\"handled\"\n            onEndReachedThreshold={0}\n            onEndReached={()=>fetchMore({\n            variables:{\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n            })}\n            style={{\n              paddingTop: 30\n            }}\n            data={data.searchTag}\n            renderItem={renderTag}\n            keyExtractor={item => item.id.toString()}\n          />\n        </SafeAreaView>\n      )\n    }else{\n      return <View></View>\n    }\n    //console.log(\"lastId:\",lastId);\n\n  }\n  return <View><Text>default</Text></View>\n}\n\nfunction SearchAuthorResult({keyword}){\n  //console.log(\"SearchAuthorResult::keyword=\",keyword);\n  const navigation = useNavigation();\n  const darkmode = useColorScheme()===\"dark\";\n  const renderAuthor = ({item})=>{\n    //console.log(\"renderTag::item=\",item);\n    return (\n      <TouchableOpacity \n        onPress={()=>navigation.navigate(\"SayingList\",{\n          id: item.id,\n          keyword: item.name,\n          type: \"author\",\n        })} \n        style={CSS.tagContainer(darkmode)}>\n        <View style={{\n          flexDirection:\"row\",\n          flex:1, \n          justifyContent:\"space-between\"\n        }}>\n          <View style={CSS.tagLeft}> \n            <Text style={CSS.tagText}>{item.name}</Text>\n            <Text style={{\n              color: \"#878787\"\n            }}> ({item.totalSayings})</Text>\n          </View>\n          <View>\n            <Ionicons \n              name=\"arrow-forward-circle\" \n              size={28} \n              color=\"white\"\n            />\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n  const {data, loading, error, fetchMore} = useQuery(SEARCH_AUTHOR,{\n    variables:{\n      keyword: keyword,\n      take: TAKE\n    },\n    errorPolicy:\"all\"\n  });\n  if(error){\n    console.log(error);\n  }\n  if(loading){\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    )     \n  }\n  if(data){\n    console.log(\"SearchAuthorResult::data=\",data);\n    let len = data.searchAuthor.length;\n    if(len){\n      let lastId = data.searchAuthor[len-1].id;\n      return(\n        <SafeAreaView style={{width:\"100%\", flex:1}}>\n          <FlatList\n            keyboardShouldPersistTaps=\"handled\"\n            onEndReachedThreshold={0}\n            onEndReached={()=>fetchMore({\n            variables:{\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n            })}        \n            style={{\n              paddingTop: 30\n            }}\n            data={data.searchAuthor}\n            renderItem={renderAuthor}\n            keyExtractor={item => item.id.toString()}\n          />\n        </SafeAreaView>\n      )\n    }else{\n      return <View></View>\n    }\n  }\n  return <View><Text>default</Text></View>\n}\n\nfunction SearchContentResult({keyword}){\n  const darkmode = useColorScheme()===\"dark\";\n  const navigation = useNavigation();\n  const renderItem = ({item})=>{\n    return(\n      <ScreenLayout>\n        <Saying {...item}/>\n      </ScreenLayout>\n    ) \n  }\n  const {data, loading, error, fetchMore} = useQuery(SEARCH_CONTENT,{\n    variables:{\n      keyword: keyword,\n      take: TAKE,\n    },\n    errorPolicy:\"all\"\n  });\n  if(error){\n    console.log(error);\n  }\n  if(loading){\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    )     \n  }\n  if(data){\n    console.log(\"SearchTagResult::data=\",data);\n    let len = data.searchSaying.length;\n    if(len){\n      let lastId = data.searchSaying[len-1].id;\n      console.log(\"lastId:\",lastId);\n      return(\n        <SafeAreaView style={{width:\"100%\", flex:1}}>\n          <FlatList\n            keyboardShouldPersistTaps=\"handled\"\n            onEndReachedThreshold={0}\n            onEndReached={()=>fetchMore({\n            variables:{\n              keyword: keyword,\n              take: TAKE,\n              lastId: lastId\n            }\n            })}\n            data={data.searchSaying}\n            renderItem={renderItem}\n            keyExtractor={item => item.id.toString()}\n          />\n        </SafeAreaView>\n      )\n    }else{\n      return <View></View>\n    }\n    //console.log(\"lastId:\",lastId);\n\n  }\n  return <View><Text>default</Text></View>\n}\n\nfunction Result({selection, keyword, darkmode}){\n  if(selection==\"tag\") return <ScreenLayout><SearchTagResult keyword={keyword} darkmode={darkmode}/></ScreenLayout>\n  else if(selection==\"author\") return <ScreenLayout><SearchAuthorResult keyword={keyword} darkmode={darkmode}/></ScreenLayout>\n  else if(selection==\"content\") return <SearchContentResult keyword={keyword} darkmode={darkmode}/>\n  return <ActivityIndicator/>\n}\nexport default function Search({navigation}){\n  const {width, height} = useWindowDimensions();\n  const {setValue, register ,watch} = useForm();\n  const [selection, setSelection] = useState(\"tag\");\n  const colorScheme = useColorScheme();\n  const darkmode = colorScheme===\"dark\";\n  const options = [\n    { label: \"태그\", value: \"tag\"},\n    { label: \"작자\", value: \"author\"},\n    { label: \"내용\", value: \"content\"},\n  ];\n  \n  //query\n  console.log(\"selection:\",selection);\n  const SearchBox = () => (\n    <View style={CSS.searchBoxContainer}>      \n      <SwitchSelector \n        options={options}\n        initial={0}\n        onPress={value=>setSelection(value)}\n        style={{width:width/2}}\n        hasPadding={true}\n        height={30}\n        borderColor={colors.blue}\n        borderWidth={1}\n        backgroundColor= {darkmode?\"transparent\":\"white\"}\n        selectedColor={\"#fefefe\"}\n        textColor={darkmode?\"#ababab\":\"#bdbdbd\"}\n        buttonColor={colors.blue}\n        bold={true}\n        borderRadius={30}\n      />\n      <View style={{\n        flexDirection:\"row\",\n        justifyContent:\"center\",\n        alignItems:\"center\",\n        marginTop: 10,\n        paddingHorizontal: 3,\n        paddingVertical: 5,\n        width:width*0.8,\n        borderRadius: 10,\n        backgroundColor:darkmode?\"rgba(255,255,255,0.1)\":colors.skin\n      }}>\n        <Ionicons name=\"search\" size={28} color=\"#ababab\"/>\n        <TextInput \n          style={{\n            borderWidth:0, \n            fontSize:18,\n            paddingHorizontal: 5,\n            paddingVertical: 7,\n            borderRadius: 9,\n            width: \"90%\",\n            color: darkmode?\"white\":\"black\"\n          }} \n          placeholderTextColor={darkmode?\"rgba(255,255,255,0.5)\":\"#ababab\"} \n          placeholder=\"Search\"\n          autoCaptialize=\"none\"      \n          returnKeyType=\"search\"\n          autoCorrect={false}\n          onChangeText={(text)=>setValue(\"keyword\", text)}\n        />\n      </View>\n    </View>\n  );\n  useEffect(()=>{\n    navigation.setOptions({\n      headerTitle: SearchBox,\n\n    });\n    register(\"keyword\");\n  },[]);\n\n  console.log(watch());\n  return(\n    <DismissKeyboard>\n      <View style={{\n        backgroundColor:colorScheme===\"dark\"?\"black\":\"white\", \n        flex:1, \n        alignItems:\"center\",\n        justifyContent: \"center\",\n      }}>\n        <Result keyword={watch(\"keyword\")?watch(\"keyword\"):\"\"} selection={selection} darkmode={darkmode}/>\n      </View>     \n    </DismissKeyboard>\n  )\n}\n\nconst CSS = StyleSheet.create({\n  tagContainer:darkmode=>({\n    borderRadius: 25,\n    paddingHorizontal: 2,\n    paddingVertical: 2,\n    marginHorizontal: 50,\n    marginTop: 5,\n    flex:1,\n    justifyContent:\"center\",\n    backgroundColor:darkmode?\"rgba(255,255,255,0.1)\":\"#74D19D\",\n  }),\n  tagLeft:{\n    flexDirection:\"row\",\n    paddingLeft: 10,\n    paddingVertical: 5,\n    alignItems:\"center\"\n  },\n  tagText:{\n    color: \"white\",\n    fontSize: 18,\n    fontWeight: \"bold\"\n  },\n  searchBoxContainer:{\n    flex:1,\n    width:\"100%\",\n    borderColor:\"black\",\n    borderWidth:0,\n    alignItems:\"center\",\n    justifyContent:\"center\",\n  }\n})"]},"metadata":{},"sourceType":"module"}